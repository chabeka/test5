package fr.urssaf.image.sae.admin.dfce.exploit.messages;

import java.util.Locale;

import org.springframework.context.MessageSource;

import fr.urssaf.image.sae.admin.dfce.exploit.context.ApplicationContextLogArchive;

/**
 * Classe utilitaire pour formater les messages.<br>
 * Le bean de configuration des messages est :
 * 
 * <pre>
 * &lt;bean id="messageSource"
 *     class="org.springframework.context.support....">
 *       ...
 * &lt;/bean>
 * </pre>
 * 
 */
public final class ResourceMessagesUtils {

   private ResourceMessagesUtils() {
   }

   private static MessageSource messageSource;

   static {

      messageSource = ApplicationContextLogArchive.getApplicationContext()
            .getBean("messageSource", MessageSource.class);
   }

   /**
    * charge un message
    * 
    * @param code
    *           code du message
    * @param args
    *           arguments du message
    * @return message format√©
    */
   public static String loadMessage(String code, Object... args) {
      return messageSource.getMessage(code, args, Locale.getDefault());
   }

}
